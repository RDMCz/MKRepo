# Algoritmus Apriori

## GenerovÃ¡nÃ­ mnoÅ¾in

MÄ›jme transakÄnÃ­ data, napÅ™. poloÅ¾ky v nÃ¡kupech:

```text
I1, I2, I5
I2, I4
I2, I3
I1, I2, I4
I1, I3
I2, I3
I1, I3
I1, I2, I3, I5
I1, I2, I3
```

SpoÄÃ­tÃ¡me vÃ½skyty jednotlivÃ½ch poloÅ¾ek (jednoprvkovÃ½ch mnoÅ¾in):

```text
{I1}    6
{I2}    7
{I3}    6
{I4}    2
{I5}    2
```

VyÅ™adÃ­me zÃ¡znamy, kterÃ© nesplÅˆujÃ­ minimÃ¡lnÃ­ support.<br>
NÃ¡Å¡ minimmÃ¡lnÃ­ support jsou 2 vÃ½skyty, proto se tabulka nezmÄ›nÃ­:

```text
{I1}    6
{I2}    7
{I3}    6
{I4}    2
{I5}    2
```

VytvoÅ™Ã­me dvoupoloÅ¾kovÃ© mnoÅ¾iny a spoÄÃ­tÃ¡me jejich vÃ½skyty:

KaÅ¾dÃ½ s kaÅ¾dÃ½m, nezÃ¡leÅ¾Ã­ na poÅ™adÃ­: {I1, I2}, {I1, I3}, {I1, I4}, {I1, I5}, {I2, I3}, {I2, I4}, {I2, I5}, {I3, I4}, {I3, I5}, {I4, I5}

U vytvoÅ™enÃ½ch mnoÅ¾in je potÅ™eba zkontrolovat, zdali jsou vÅ¡echny jejich podmnoÅ¾iny takÃ© frekventovanÃ©. U&nbsp;dvouprvkovÃ½ch mnoÅ¾in jsou podmnoÅ¾iny pouze jednoprvkovÃ©, a ty jsou vÅ¾dy frekventovanÃ© (dvojice tvoÅ™Ã­me z&nbsp;prvkÅ¯ splÅˆujÃ­cÃ­ch minimÃ¡lnÃ­ support).

```text
{I1, I2}    4   (ve 4 nÃ¡kupech se objevilo jak I1, tak I2)
{I1, I3}    4
{I1, I4}    1
{I1, I5}    2
{I2, I3}    4
{I2, I4}    2
{I2, I5}    2
{I3, I4}    0
{I3, I5}    1
{I4, I5}    0
```

Odebereme dvojice nesplÅˆujÃ­cÃ­ minimÃ¡lnÃ­ support:

```text
{I1, I2}    4
{I1, I3}    4
{I1, I5}    2
{I2, I3}    4
{I2, I4}    2
{I2, I5}    2
```

VytvoÅ™Ã­me tÅ™Ã­poloÅ¾kovÃ© mnoÅ¾iny a spoÄÃ­tÃ¡me jejich vÃ½skyty:

Trojice tvoÅ™Ã­me pouze z dvojic se stejnou levou stranou: {ğ‘¥, ğ‘¦} & {ğ‘¥, ğ‘§} â†’ {ğ‘¥, ğ‘¦, ğ‘§}<br>
â‡’ {I1, I2, I3}, {I1, I2, I5}, {I1, I3, I5}, {I2, I3, I4}, {I2, I3, I5}, {I2, I4, I5}

U vytvoÅ™enÃ½ch mnoÅ¾in je potÅ™eba zkontrolovat, zdali jsou vÅ¡echny jejich podmnoÅ¾iny takÃ© frekventovanÃ©. U&nbsp;tÅ™Ã­prvkovÃ½ch jsou to jednoprvkovÃ© (vÅ¾dy frekventovanÃ©) a dvouprvkovÃ© (je potÅ™eba vÅ¡echny zkontrolovat, napÅ™.: pro {ğ‘¥, ğ‘¦, ğ‘§} zkontrolovat {ğ‘¥, ğ‘¦}, {ğ‘¥, ğ‘§}, {ğ‘¦, ğ‘§}).

* Takto vyÅ™adÃ­me:
  * {I1, I3, I5} &emsp; ...protoÅ¾e {I3, I5} nenÃ­ frekventovanÃ¡
  * {I2, I3, I4} &emsp; ...protoÅ¾e {I3, I4} nenÃ­ frekventovanÃ¡
  * {I2, I3, I5} &emsp; ...protoÅ¾e {I3, I5} nenÃ­ frekventovanÃ¡
  * {I2, I4, I5} &emsp; ...protoÅ¾e {I4, I5} nenÃ­ frekventovanÃ¡

Z toho, co zbylo, odebereme trojice nesplÅˆujÃ­cÃ­ minimÃ¡lnÃ­ support (v tomto pÅ™Ã­padÄ› nic neodebÃ­rÃ¡me):

```text
{I1, I2, I3}    2
{I1, I2, I5}    2
```

VytvoÅ™Ã­me ÄtyÅ™poloÅ¾kovÃ© mnoÅ¾iny a spoÄÃ­tÃ¡me jejich vÃ½skyty:

{I1, I2, I3, I5}

Zkontrolovat frekventovanost podmnoÅ¾in â†’ {I2, I3, I5} a dalÅ¡Ã­ nejsou frekventovanÃ© â†’ zahazujeme poslednÃ­ mnoÅ¾inu â†’ konÄÃ­me.

VÃ½sledek je ğ¿ = { {I1}, {I2}, {I3}, {I4}, {I5}, {I1, I2}, {I1, I3}, {I1, I5}, {I2, I3}, {I2, I4}, {I2, I5}, {I1, I2, I3}, {I1, I2, I5} }

## GenerovÃ¡nÃ­ asociaÄnÃ­ch pravidel

Pravidla tvoÅ™Ã­me z mnoÅ¾in z ğ¿ ve formÄ› ( ğ‘  â†’ ğ‘™ âˆ– ğ‘  ), tato pravidla musÃ­ splÅˆovat zadanÃ½ minimÃ¡lnÃ­ confidence, napÅ™. 70 %. Ten se poÄÃ­tÃ¡ jako poÄet vÃ½skytÅ¯ ğ‘™ lomeno poÄet vÃ½skytÅ¯ ğ‘ .

VezmÄ›me napÅ™Ã­klad ğ‘™ = {I1, I2, I5}

* I1 â†’ I2 âˆ§ I5
  * ğ‘  = {I1}
  * ğ‘™ âˆ– ğ‘  = {I2, I5}
  * PoÄet vÃ½skytÅ¯ ğ‘™ je 2 (Äitatel je vÅ¾dy stejnÃ½)
  * PoÄet vÃ½skytÅ¯ ğ‘  je 6
  * Confidence = 2/6 ~ 33 % â‡’ Pravidlo nepÅ™ijato
* I2 â†’ I1 âˆ§ I5
  * 2/7 ~ 29 % â‡’ Ne
* I5 â†’ I1 âˆ§ I2
  * 2/2 = 100 % â‡’ __Ano__
* I1 âˆ§ I2 â†’ I5
  * ğ‘  = {I1, I2}
  * ğ‘™ âˆ– ğ‘  = {I5}
  * PoÄet vÃ½skytÅ¯ ğ‘  je 4
  * Confidence = 2/4 = 50 % â‡’ Ne
* I1 âˆ§ I5 â†’ I2
  * 2/2 = 100 % â‡’ __Ano__
* I2 âˆ§ I5 â†’ I1
  * 2/2 = 100 % â‡’ __Ano__

Z {I1, I2, I5} jsme zÃ­skali 3 pravidla. Tohle musÃ­me provÃ©st pro vÅ¡echny vÃ­ceprvkovÃ© mnoÅ¾iny z ğ¿.
